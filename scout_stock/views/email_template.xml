<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="scout_stock.email_template_edi_sale_line" model="mail.template">
        <field name="name">Order Line - Send by email</field>
        <field name="subject">Order Line : Send by email</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="auto_delete" eval="True"/>
        <field name="body_html" type="html">
            <div>
               <p>Hello
                    % if ctx['name']
                        <strong>${ctx['name']}</strong>
                    % endif
                    ,
               </p>
               <p>
                    We have received an Order <strong>${object.name}</strong> behalf of you from Customer <strong>${object.partner_id.name}</strong> dated on <strong>${object.date_order}</strong>. please confirm below order details:
                </p>
                <p>
                    <strong>Order Reference :</strong> ${object.name}
               </p>
               <p>
                    <strong>Customer Details :</strong>
                    <ul>
                       <li>Name : ${object.partner_id.name}</li>
                       <li>Address : 
                       % if object.partner_id.street:
                           ${object.partner_id.street} ,<br></br>
                       % endif
                       % if object.partner_id.street2:
                           ${object.partner_id.street2},<br></br>
                       % endif
                       % if object.partner_id.city:
                           ${object.partner_id.city}
                       % endif
                       % if object.partner_id.state_id.name:
                           ${object.partner_id.state_id.name}
                       % endif
                       % if object.partner_id.zip:
                           ${object.partner_id.zip}
                       % endif
                       <br></br>
                       % if object.partner_id.country_id.name:
                           ${object.partner_id.country_id.name}
                       % endif
                       </li>
                    </ul>
                </p>
                <p>
                    <strong>Delivery Address :</strong>
                    <ul>
                    <li>Name : ${object.partner_shipping_id.name}</li>
                    <li>Address : 
                       % if object.partner_shipping_id.street:
                           ${object.partner_shipping_id.street} ,<br></br>
                       % endif
                       % if object.partner_shipping_id.street2:
                           ${object.partner_shipping_id.street2},<br></br>
                       % endif
                       % if object.partner_shipping_id.city:
                           ${object.partner_shipping_id.city}
                       % endif
                       % if object.partner_shipping_id.state_id.name:
                           ${object.partner_shipping_id.state_id.name}
                       % endif
                       % if object.partner_shipping_id.zip:
                           ${object.partner_shipping_id.zip}
                       % endif
                       <br></br>
                       % if object.partner_shipping_id.country_id.name:
                           ${object.partner_shipping_id.country_id.name}
                       % endif
                       </li>
                    </ul>
                </p>
                <p>
                    <strong>Contact Details :</strong>
                    <ul>
                        % if object.partner_id.phone:
                            <li>Phone : ${object.partner_id.phone}</li> 
                        % endif
                        % if object.partner_id.email:
                            <li>Email : ${object.partner_id.email}</li> 
                        % endif
                    </ul>
                </p>
                <p>
                    <strong>Product Details:</strong>
                    <table class="table table-sm o_main_table" style="border: 1px solid black;margin-left:20px;">
                            <thead>
                                <tr>
                                      <th style="border: 1px solid black;">Product</th>
                                      <th style="border: 1px solid black;">Quantity</th>
                                      <th style="border: 1px solid black;">Unit Price</th>
                                      <th style="border: 1px solid black;">Total</th>
                                </tr>
                            </thead>
                        % for line in object.order_line:
                                % if ctx['name'] == line.location_id.name:
                            <tbody class="sale_tbody">
                                    <tr>
                                          <td style="border: 1px solid black;">${line.product_id.name}</td>
                                          <td style="border: 1px solid black;">${line.product_uom_qty}</td>
                                          <td style="border: 1px solid black;">${line.price_unit}<span> ${object.pricelist_id.currency_id.symbol}</span></td>
                                          <td style="border: 1px solid black;">${line.price_subtotal}<span> ${object.pricelist_id.currency_id.symbol}</span></td>
                                    </tr>
                                % endif
                            </tbody>
                        % endfor
                    </table>
                </p>
                <br></br>
                <br></br>
                <br></br>
                <p>
                    Please verify above order details and deliver it as soon as possible!
                </p>
                <p>
                    Thanks,<br></br>
                    <strong>${object.company_id.name}</strong>
                </p>
            </div>
        </field>
    </record>
<!--     <record id="sale.email_template_edi_sale" model="mail.template"> -->
<!--             <field name="name">Sales Order: Send by email</field> -->
<!--             <field name="model_id" ref="sale.model_sale_order"/> -->
<!--             <field name="email_from">${object.user_id.email_formatted |safe}</field> -->
<!--             <field name="partner_to">${object.partner_id.id}</field> -->
<!--             <field name="subject">${object.company_id.name} ${object.state in ('draft', 'sent') and 'Quotation' or 'Order'} (Ref ${object.name or 'n/a' })</field> -->
<!--             <field name="body_html" type="html"> -->
<!--                 <div style="margin: 0px; padding: 0px;"> -->
<!--                     <p style="margin: 0px; padding: 0px; font-size: 13px;"> -->
<!--                         % set doc_name = 'quotation' if object.state in ('draft', 'sent') else 'order' -->
<!--                         Dear ABC ${object.partner_id.name} -->
<!--                         % if object.partner_id.parent_id: -->
<!--                             (${object.partner_id.parent_id.name}) -->
<!--                         % endif -->
<!--                         <br /><br /> -->
<!--                         Here is -->
<!--                         % if ctx.get('proforma') -->
<!--                             in attachment your pro-forma invoice -->
<!--                         % else -->
<!--                             the ${doc_name} <strong>${object.name}</strong> -->
<!--                         % endif -->
<!--                         % if object.origin: -->
<!--                             (with reference: ${object.origin} ) -->
<!--                         % endif -->
<!--                         amounting in <strong>${format_amount(object.amount_total, object.pricelist_id.currency_id)}</strong> -->
<!--                         from ${object.company_id.name}. -->
<!--                         <br /><br /> -->
<!--                         Do not hesitate to contact us if you have any question. -->
<!--                     </p> -->
<!--                     <br></br> -->
<!--                     <br></br> -->
<!--                     <p style="margin: 0px; padding: 0px; font-size: 13px;"> -->
<!--                         Thanks,<br></br> -->
<!--                         <strong>${object.partner_id.name}</strong> -->
<!--                     </p> -->
<!--                 </div> -->
<!--             </field> -->
<!--             <field name="report_template" ref="sale.action_report_saleorder"/> -->
<!--             <field name="report_name">${(object.name or '').replace('/','_')}</field> -->
<!--             <field name="lang">${object.partner_id.lang}</field> -->
<!--             <field name="user_signature" eval="False"/> -->
<!--             <field name="auto_delete" eval="True"/> -->
<!--         </record> -->
</odoo>